{"version":3,"file":"phantomAdapter.esm.js","sources":["../src/utils.ts","../src/phantomAdapter.ts"],"sourcesContent":[null,null],"names":["poll","callback","interval","count","Promise","resolve","reject","setTimeout","done","then","res","catch","err","detectProvider","options","isPhantomAvailable","window","solana","isPhantom","isAvailable","PhantomAdapter","BaseSolanaAdapter","WALLET_ADAPTERS","PHANTOM","ADAPTER_NAMESPACES","SOLANA","CHAIN_NAMESPACES","ADAPTER_CATEGORY","EXTERNAL","ADAPTER_STATUS","NOT_READY","_wallet","off","_onDisconnect","rehydrated","status","CONNECTED","READY","emit","ADAPTER_EVENTS","DISCONNECTED","isWalletConnected","isConnected","provider","phantomProvider","_","Error","init","checkInitializationRequirements","WalletInitializationError","notInstalled","PhantomInjectedProvider","config","chainConfig","log","debug","autoConnect","connect","error","checkConnectionRequirements","CONNECTING","adapter","handleDisconnect","_handleDisconnect","connectWithProvider","once","windowClosed","args","apply","reason","Web3AuthError","WalletLoginError","connectionError","message","publicKey","on","ERRORED","disconnect","cleanup","disconnectSession","disconnectionError","getUserInfo","notConnectedError","injectedProvider","setupProvider","reconnected"],"mappings":"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"}